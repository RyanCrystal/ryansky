const r =
  "data:audio/mp3;base64,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VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//t0xOoAETlHG+ew2QFgl2H0V6VwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUxNoDwAAB/gAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV";

const r2 =
  "data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";
const r3 =
  "audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=";
var audio = new Audio(r);
var speed = 150;
// setInterval(() => {
//   audio.play();
// }, 60000 / speed);

// notes = [
//   [659, 4],
//   [659, 4],
//   [659, 4],
//   [523, 8],
//   [0, 16],
//   [783, 16],
//   [659, 4],
//   [523, 8],
//   [0, 16],
//   [783, 16],
//   [659, 4],
//   [0, 4],
//   [987, 4],
//   [987, 4],
//   [987, 4],
//   [1046, 8],
//   [0, 16],
//   [783, 16],
//   [622, 4],
//   [523, 8],
//   [0, 16],
//   [783, 16],
//   [659, 4],
// ];

// notes.reverse();
// tempo = 100;

// // create web audio api context
// var audioCtx = new (window.AudioContext || window.webkitAudioContext)();

// function playMelody() {
//   if (notes.length > 0) {
//     note = notes.pop();
//     playNote(note[0], 256 / (note[1] * tempo), playMelody);
//   }
// }

// function playNote(frequency, duration, callback) {
//   // create Oscillator node
//   var oscillator = audioCtx.createOscillator();

//   oscillator.type = "square";
//   oscillator.frequency.value = frequency; // value in hertz
//   oscillator.connect(audioCtx.destination);
//   oscillator.onended = callback;
//   oscillator.start(0);
//   oscillator.stop(audioCtx.currentTime + duration);
// }
// document.getElementById("button").addEventListener("click", playMelody);

// function getDuration(src) {
//   return new Promise(function (resolve) {
//     var audio = new Audio();
//     $(audio).on("loadedmetadata", function () {
//       resolve(audio.duration);
//       audio.play();
//     });
//     audio.src = src;
//   });
// }
// getDuration(r2).then(function (length) {
//   console.log("I got length " + length);
//   // document.getElementById("duration").textContent = length;
// });

var audio = new Audio(r);
var baseSpeed = 1000;
var myInt;
var changeInt;

//Starts a Run
function beatInterval() {
  audio.play();
}

//Speeds up the other interval
function speedUpInterval() {
  baseSpeed = baseSpeed - 20;
  clearInterval(myInt);
  myInt = setInterval(beatInterval, baseSpeed);
  console.log(baseSpeed);
}

// myInt = setInterval(beatInterval, baseSpeed);
// changeInt = setInterval(speedUpInterval, 1000);

// window.AudioContext = window.AudioContext || window.webkitAudioContext;
// var context = new AudioContext();

// function playSound(buffer) {
//   var source = context.createBufferSource(); // creates a sound source
//   source.buffer = context.decodeAudioData(buffer); // tell the source which sound to play
//   source.connect(context.destination); // connect the source to the context's destination (the speakers)
//   source.start(0); // play the source now
//   // note: on older systems, may have to use deprecated noteOn(time);
// }

// document.getElementById("button").addEventListener("click", function () {
//   playSound(r);
// });
function BufferLoader(context, urlList, callback) {
  this.context = context;
  this.urlList = urlList;
  this.onload = callback;
  this.bufferList = new Array();
  this.loadCount = 0;
}

BufferLoader.prototype.loadBuffer = function (url, index) {
  // Load buffer asynchronously
  var request = new XMLHttpRequest();
  request.open("GET", url, true);
  request.responseType = "arraybuffer";

  var loader = this;

  request.onload = function () {
    // Asynchronously decode the audio file data in request.response
    loader.context.decodeAudioData(
      request.response,
      function (buffer) {
        if (!buffer) {
          alert("error decoding file data: " + url);
          return;
        }
        loader.bufferList[index] = buffer;
        if (++loader.loadCount == loader.urlList.length)
          loader.onload(loader.bufferList);
      },
      function (error) {
        console.error("decodeAudioData error", error);
      }
    );
  };

  request.onerror = function () {
    alert("BufferLoader: XHR error");
  };

  request.send();
};

BufferLoader.prototype.load = function () {
  for (var i = 0; i < this.urlList.length; ++i)
    this.loadBuffer(this.urlList[i], i);
};

// window.onload = init;
document.getElementById("button").addEventListener("click", init);
var context;
var bufferLoader;

function init() {
  // Fix up prefixing
  window.AudioContext = window.AudioContext || window.webkitAudioContext;
  context = new AudioContext();

  bufferLoader = new BufferLoader(
    context,
    ["../midi-converter/build/4d/A0.mp3"],
    finishedLoading
  );

  bufferLoader.load();
}

function finishedLoading(bufferList) {
  // Create two sources and play them both together.
  setInterval(() => {
    var source1 = context.createBufferSource();
    // var source2 = context.createBufferSource();
    source1.buffer = bufferList[0];
    // source2.buffer = bufferList[1];

    source1.connect(context.destination);
    // source2.connect(context.destination);
    source1.start(0);
  }, 200);
}
function play(when, offset, duration) {
  var source = context.createBufferSource();
  source.buffer = buffer;
  source.connect(context.destination);
  source.start(when, offset, duration);
}
